---
import { cn } from "../lib/utils";

interface Props {
  title?: string;
  class?: string;
  href?: string;
  noPadding?: boolean;
}

const { title, class: className, href, noPadding = false } = Astro.props;

const Component = href ? "a" : "div";
---

<Component
  href={href}
  class={cn(
    "group relative flex flex-col overflow-hidden rounded-xl border border-border bg-card text-card-foreground shadow-sm transition-all hover:shadow-md hover-lift",
    href && "hover:border-primary/50 hover:bg-accent/5",
    className
  )}
>
  {
    title && (
      <div class="flex items-center justify-between border-b border-border px-4 py-3 bg-muted/20">
        <div class="flex items-center gap-2">
          <slot name="icon" />
          <h3 class="font-semibold tracking-tight text-sm">{title}</h3>
        </div>
        {href && (
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="text-muted-foreground transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5"
          >
            <path d="M7 7h10v10" />
            <path d="M7 17 17 7" />
          </svg>
        )}
      </div>
    )
  }
  <div class={cn("flex-1", !noPadding && "p-4")}>
    <slot />
  </div>
</Component>
